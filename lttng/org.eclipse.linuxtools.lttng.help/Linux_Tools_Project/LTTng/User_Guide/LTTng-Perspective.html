<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>LTTng Plug-in User Guide - LTTng Perspective</title>
		<link type="text/css" rel="stylesheet" href="../../../book.css"/>
	</head>
	<body>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<th style="width: 100%" align="center" colspan="3">LTTng Perspective</th>
			</tr>
			<tr>
				<td style="width: 20%" align="left">
					<a href="Getting-Started.html" title="Getting Started">
						<img alt="Previous" border="0" src="../../../images/prev.gif"/>
					</a>
				</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right">
					<a href="LTTng-Trace-Control.html" title="LTTng Trace Control">
						<img alt="Next" border="0" src="../../../images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top">Getting Started</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">LTTng Trace Control</td>
			</tr>
		</table><hr/>
		<h1 id="LTTng_Perspective">LTTng Perspective</h1>
		<p>The LTTng perspective groups the LTTng specific views, namely:</p>
		<ul>
			<li>
				<a href="LTTng-Perspective.html#Project_View">Project View</a>
			</li>
			<li>
				<a href="LTTng-Perspective.html#Events_View">Events View</a>
			</li>
			<li>
				<a href="LTTng-Perspective.html#Histogram_View">Histogram View</a>
			</li>
			<li>
				<a href="LTTng-Perspective.html#Control_Flow_View">Control Flow View</a>
			</li>
			<li>
				<a href="LTTng-Perspective.html#Resources_View">Resources View</a>
			</li>
			<li>
				<a href="LTTng-Perspective.html#Statistics_View">Statistics View</a>
			</li>
			<li>
				<a href="LTTng-Perspective.html#Latency_View">Latency View</a>
			</li>
		</ul>
		<p>The views are synchronized i.e. selecting an event, a timestamp, a time range, etc will update the other views accordingly.</p>
		<p>
			<img border="0" src="images/LTTngPerspective.png"/>
		</p>
		<p>The perspective can be opened from the Eclipse Open Perspective dialog (Window &gt; Open Perspective... &gt; Other).</p>
		<p>
			<img border="0" src="images/LTTngPerspectiveOpen.png"/>
		</p>
		<h2 id="Project_View">Project View</h2>
		<p>The project view is the standard Eclipse Project Explorer. LTTng being a tracing project, it is shown with a small "T" decorator in the upper right of the project folder icon.</p>
		<p>
			<img border="0" src="images/ProjectExplorer.png"/>
		</p>
		<p>Tracing projects have two sub-folders: 
			<b>Traces</b> which holds the individual traces, and 
			<b>Experiments</b> which holds sets of traces that we want to correlate. 
		</p>
		<h3 id="Creating_a_Project">Creating a Project</h3>
		<p>A new LTTng project can be created using the LTTng Project dialog (File &gt; New &gt; Project... or the context menu)</p>
		<p>
			<img border="0" src="images/LTTngProjectNewWizard.png"/>
		</p>
		<p>
			<img border="0" src="images/LTTngProjectNewDialog.png"/>
		</p>
		<p>At this point, you can press Finish and complete the project creation or you can press Next to provide a project-specific parser library path.</p>
		<p>
			<img border="0" src="images/LTTngProjectNewDialog-2.png"/>
		</p>
		<p>Once the project is created, you can modify the parser library path at any time by selecting the project's property page (right-click on the project, Properties).</p>
		<p>
			<img border="0" src="images/LTTngProjectProperty.png"/>
		</p>
		<h3 id="Importing_Traces_in_a_Project">Importing Traces in a Project</h3>
		<p>The Traces folder holds the set of traces available for experiments. Traces are imported in the LTTng project using an import wizard triggered by a context menu.</p>
		<p>Note: An LTTng trace is actually a composite of multiple channel traces grouped under a folder. It is the folder that has to be imported. </p>
		<p>
			<img border="0" src="images/LTTngTraceImportDialog.png"/>
		</p>
		<p>The Experiment folder holds the set of experiments of the project. Experiments are created from the Experiment context menu and are configured from the experiment's context menu.</p>
		<p>
			<img border="0" src="images/LTTngTraceSelectDialog.png"/>
		</p>
		<h2 id="Events_View">Events View</h2>
		<p>The Events View shows the basic trace data in chronological order in a tabular format.</p>
		<p>The header displays the current trace (or experiment) name. The table displays the following fields:</p>
		<ul>
			<li>
				<b>Timestamp</b>: the event timestamp
			</li>
			<li>
				<b>Source</b>: the component that generated the event
			</li>
			<li>
				<b>Type</b>: the event type
			</li>
			<li>
				<b>Reference</b>: the trace that holds the event (e.g. experiments typically hold multiple traces)
			</li>
			<li>
				<b>Content</b>: the raw event content 
			</li>
		</ul>
		<p>The first row of the table is the header row a.k.a. the Search and Filter row.</p>
		<p>
			<img border="0" src="images/EventsView.png"/>
		</p>
		<p>The highlighted event is the 
			<i>current event</i> and is synchronized with the other views. If you select another event, the other views will be synchronized accordingly.
		</p>
		<h3 id="Searching_and_Filtering">Searching and Filtering</h3>
		<p>Searching and filtering of events in the table can be performed by entering matching conditions in one or multiple columns in the header row (the first row below the column header).</p>
		<p>To toggle between searching and filtering, click on the 'search' (
			<img border="0" src="images/TmfEventSearch.gif"/>) or 'filter' (
			<img border="0" src="images/TmfEventFilter.gif"/>) icon in the header row's left margin, or right-click on the header row and select 
			<b>Show Filter Bar</b> or 
			<b>Show Search Bar</b> in the context menu.
		</p>
		<p>To apply a matching condition to a specific column, click on the column's header row cell, type in a 
			<a href="http://download.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html">regular expression</a> and press the 
			<b>ENTER</b> key. You can also enter a simple text string and it will be automatically be replaced with a 'contains' regular expression.
		</p>
		<p>When matching conditions are applied to two or more columns, all conditions must be met for the event to match (i.e. 'and' behavior).</p>
		<p>To clear all matching conditions in the header row, press the 
			<b>DEL</b> key.
		</p>
		<h4 id="Searching">Searching</h4>
		<p>When a searching condition is applied to the header row, the table will select the next matching event starting from the top currently displayed event. Wrapping will occur if there is no match until the end of the trace.</p>
		<p>All matching events will have a 'search match' icon in their left margin. Non-matching events will be dimmed.</p>
		<p>
			<img border="0" src="images/TmfEvents-Search.png"/>
		</p>
		<p>Pressing the 
			<b>ENTER</b> key will search and select the next matching event. Pressing the 
			<b>SHIFT-ENTER</b> key will search and select the previous matching event. Wrapping will occur in both directions.
		</p>
		<p>Press 
			<b>ESC</b> to cancel an ongoing search.
		</p>
		<p>Press 
			<b>DEL</b> to clear the header row and reset all events to normal.
		</p>
		<h4 id="Filtering">Filtering</h4>
		<p>When a filtering condition is entered in the head row, the table will clear all events and fill itself with matching events as they are found from the beginning of the trace.</p>
		<p>A status row will be displayed before and after the matching events, dynamically showing how many matching events were found and how many events were processed so far. Once the filtering is completed, the status row icon in the left margin will change from a 'stop' to a 'filter' icon.</p>
		<p>
			<img border="0" src="images/TmfEvents-Filter.png"/>
		</p>
		<p>Press 
			<b>ESC</b> to stop an ongoing filtering. In this case the status row icon will remain as a 'stop' icon to indicate that not all events were processed.
		</p>
		<p>Press 
			<b>DEL</b> or right-click on the table and select 
			<b>Clear Filters</b> from the context menu to clear the header row and remove the filtering. All trace events will be now shown in the table. Note that the currently selected event will remain selected even after the filter is removed.
		</p>
		<p>You can also search on the subset of filtered events by toggling the header row to the Search Bar while a filter is applied. Searching and filtering conditions are independent of each other.</p>
		<h2 id="Histogram_View">Histogram View</h2>
		<p>The Histogram View displays the trace events distribution with respect to time. When streaming a trace, this view is dynamically updated as the events are received.</p>
		<p>
			<img border="0" src="images/HistogramView.png"/>
		</p>
		<p>On the top left, there are two data controls:</p>
		<ul>
			<li>
				<b>Current Event (sec)</b>: Displays the timestamp of the currently selected event
			</li>
			<li>
				<b>Window Span (sec)</b>: Displays the current time range window size
			</li>
		</ul>
		<p>Both control can be used to modify their respective value. After validation, the other controls and views will be synchronized and updated accordingly.</p>
		<p>The large histogram, at the bottom, shows the event distribution over the whole trace or set of traces. It also has a smaller semi-transparent window, with a cross-hair, that shows the currently selected time range window. The time range window can be zoomed in/out by using the mouse wheel. It can also be selected by the mouse and dragged to another region of the trace.</p>
		<p>The smaller histogram, on top right, corresponds to the currently selected time range window, a sub-range of the event set. Its size can also be zoomed in/out using the mouse wheel.</p>
		<p>The x-axis of each histogram corresponds to the events timestamps. The timestamp of the first and the last event of the respective ranges is displayed. The y-axis of each histogram shows the minimum/maximum number of events in the corresponding histogram bars.</p>
		<p>The dashed vertical magenta bar, on the right, shows the position of the last event. The dashed vertical red bar shows the relative position of the currently selected event. The current event can be changed by clicking on the histogram.</p>
		<p>Hovering the mouse over an histogram bar pops up an information window that displays the start/end time of the corresponding bar as well as the number of events it represents.</p>
		<p>In each histogram, the following keys are handled:</p>
		<ul>
			<li>
				<b>Left</b>: Moves the current event to the previous non-empty bar
			</li>
			<li>
				<b>Right</b>: Moves the current event to the next non-empty bar
			</li>
			<li>
				<b>Home</b>: Displays the current event to the first histogram bar
			</li>
			<li>
				<b>End</b>: Displays the current event to the last non-empty histogram bar
			</li>
		</ul>
		<h2 id="Control_Flow_View">Control Flow View</h2>
		<p>The Control Flow View is applicable to kernel trace data. It displays the list processes in tabular format, sorted by PID, as well as their state transitions over time in a Gantt chart format.</p>
		<p>
			<img border="0" src="images/ControlFlowView.png"/>
		</p>
		<p>The tool bar options from left to right are:</p>
		<ul>
			<li>
				<b>Home</b>: reset the time window to the whole trace range.
			</li>
			<li>
				<b>Next Event</b>: sets the current event to the next event of the selected process.
			</li>
			<li>
				<b>Previous Event</b>: sets the current event to the previous event of the selected process.
			</li>
			<li>
				<b>Next Process</b>: sets the selected process to the next down in the list.
			</li>
			<li>
				<b>Previous Process</b>: sets the selected process to the next up in the list.
			</li>
			<li>
				<b>Zoom In</b>: zooms in the trace (i.e. shortens the current time window) at the current location. This can also be accomplished by using the mouse wheel in the graphical part.
			</li>
			<li>
				<b>Zoom Out</b>: zooms out the trace (i.e. widens the current time window) at the current location. This can also be accomplished by using the mouse wheel in the graphical part.
			</li>
			<li>
				<b>Filter</b>: display only the processes that have a state transition in the current window.
			</li>
		</ul>
		<p>The process table displays the following fields:</p>
		<ul>
			<li>
				<b>Process</b>: the process name if know (
				<i>UNNAMED</i> otherwise)
			</li>
			<li>
				<b>Brand</b>:
			</li>
			<li>
				<b>PID</b>: the process ID
			</li>
			<li>
				<b>TGID</b>:
			</li>
			<li>
				<b>PPID</b>: the parent PID
			</li>
			<li>
				<b>CPU</b>: the CPU/core the process is running on
			</li>
			<li>
				<b>Birth sec/nsec</b>: the birth time of the process (
				<i>0</i> if unknown) - seconds and nanoseconds
			</li>
			<li>
				<b>TRACE</b>: the name of the trace that holds this process
			</li>
		</ul>
		<p>The graphical part shows the state of the corresponding process 
			<i>a la Gantt</i>: the color represents the process state and the length of the bar represents the time span during which the process was in that state. The header corresponds to a time axis. 
			Note that depending on the scale or zooming factor, some pixels might represent more (in fact many, many more) than just one state.
		</p>
		<p>Here's a list of possible colors and their corresponding process state:</p>
		<p>
			<img border="0" src="images/LTTngControlFlowColorLegend.png"/>
		</p>
		<ul>
			<li>
				<b>MODE_UNKNOWN</b> - Process state is unknown: there is not enough information in the trace to determine the state. This usually occurs for processes already alive when tracing started and the system is unable to infer the original state from the following trace events.
			</li>
			<li>
				<b>USER_MODE</b> - Running in user mode: the process is executing user source code or library calls (in user space).
			</li>
			<li>
				<b>SYSCALL</b> - Running in system call: the process is doing a system call to the kernel and the running mode switched from process limited rights to super user mode.
			</li>
			<li>
				<b>IRQ</b> - Servicing an IRQ: the currently running process is interrupted by an IRQ. As the IRQ does not change the currently running process (on some architectures it uses the same stack as the process), the IRQ state is shown in the state of the process. IRQ can be nested: a higher priority interrupt can interrupt a lower priority interrupt.
			</li>
			<li>
				<b>TRAP</b> - Running in a trap: the kernel is running a trap that services a fault. The most frequent trap is the memory page fault trap, called every time a page is missing from physical memory.
			</li>
			<li>
				<b>WAIT</b> - Waiting on I/O: the process is waiting for an I/O operation to complete before it can continue its execution.
			</li>
			<li>
				<b>UNNAMED</b> - Mode unnamed: see 
				<b>MODE_UNKNOWN</b>
			</li>
			<li>
				<b>WAIT_FORK</b> - Waiting for fork: the process has just been created by its parent and is waiting for first scheduling.
			</li>
			<li>
				<b>WAIT_CPU</b> - Waiting for CPU: the process is ready to run but waiting to get the CPU (a schedule in event).
			</li>
			<li>
				<b>EXIT</b> - Process has exited: the process has exited, but still has the control of the CPU. It may happend if it has some tasks to do in the exit system call.
			</li>
			<li>
				<b>ZOMBIE</b> - Zombie process: the process in in zombie state. This state happens when a process exits and then waits for the parent to wait for it (wait() or waitpid()).
			</li>
			<li>
				<b>SOFTIRQ</b> - Running a soft IRQ handler: a SoftIRQ is normally triggered by an interrupt that whishes to have some work done very soon, but not "now". Doing the long part of a computation in a softirq that will be run just after the IRQ handler exits permits to do work while interrupts are enabled, without increasing the system latency.
			</li>
		</ul>
		<h3 id="Mouse_Control">Mouse Control</h3>
		<ul>
			<li>Mouse Wheel
				<ul>
					<li>Forward - Zoom In.</li>
					<li>Backward - Zoom Out.</li>
				</ul>
			</li>
		</ul>
		<ul>
			<li>Mouse Drag
				<ul>
					<li>States Area - Moves the time window in the direction of the drag keeping current scale.</li>
					<li>Time Scale Area - Changes the time scale to the time range from the start to the end of the drag action.</li>
				</ul>
			</li>
		</ul>
		<ul>
			<li>Mouse Hover
				<ul>
					<li>Hovering the mouse selection over a state will trigger a tooltip display with additional information, including the start and end times as well as the name of the state associated to the color.</li>
				</ul>
			</li>
		</ul>
		<p>
			<img border="0" src="images/LTTngProcessStateInfo.png"/>
		</p>
		<h2 id="Resources_View">Resources View</h2>
		<p>The Resources View is applicable to kernel trace data. It displays the list system resources in tree format, grouped by trace, as well as their state transitions over time in a Gantt chart format.</p>
		<p>
			<img border="0" src="images/ResourcesView.png"/>
		</p>
		<p>The tool bar options from left to right are:</p>
		<ul>
			<li>
				<b>Home</b>: reset the time window to the whole trace range.
			</li>
			<li>
				<b>Next Event</b>: sets the current event to the next event of the selected process.
			</li>
			<li>
				<b>Previous Event</b>: sets the current event to the previous event of the selected process.
			</li>
			<li>
				<b>Next Process</b>: sets the selected process to the next down in the list.
			</li>
			<li>
				<b>Previous Process</b>: sets the selected process to the next up in the list.
			</li>
			<li>
				<b>Zoom In</b>: zooms in the trace (i.e. shortens the current time window) at the current location. This can also be accomplished by using the mouse wheel in the graphical part.
			</li>
			<li>
				<b>Zoom Out</b>: zooms out the trace (i.e. widens the current time window) at the current location. This can also be accomplished by using the mouse wheel in the graphical part.
			</li>
			<li>
				<b>Filter</b>: display only the processes that have a state transition in the current window.
			</li>
		</ul>
		<p>The resource tree displays the system resources whose state transitions were collected in the trace.</p>
		<p>The graphical part shows the state of the corresponding resources 
			<i>a la Gantt</i>: the color represents the resource state and the length of the bar represents the time span during which the resource was in that state. The header corresponds to a time axis. 
			Note that depending on the scale or zooming factor, some pixels might represent more (in fact many, many more) than just one state.
		</p>
		<p>Here's a list of possible colors and their corresponding process state:</p>
		<p>
			<img border="0" src="images/LTTngResourcesColorLegend.png"/>
		</p>
		<h3 id="Mouse_Control_2">Mouse Control</h3>
		<p>See 
			<a href="LTTng-Perspective.html#Control_Flow_View">Control Flow View</a>
		</p>
		<h2 id="Statistics_View">Statistics View</h2>
		<p>The Statistics View displays the various event counters that are collected when analyzing a trace. The data is organized per trace.</p>
		<p>
			<img border="0" src="images/StatisticsView.png"/>
		</p>
		<h2 id="Latency_View">Latency View</h2>
		<p>The Latency View is applicable to kernel trace data. The Latency View initiates the analysis of an LTTng trace to determine the elapsed time between 2 related events (the latency), and then to plot the distribution of the latencies. </p>
		<p>
			<img border="0" src="images/LatencyView.png"/>
		</p>
		<p>The analysis is done to the current active time range of the LTTng perspective. The Latency View consists of 2 different graphs. The left graph shows the latency in respect to the event time (start event). The right graph shows the latency distribution.</p>
		<h3 id="Latency_vs_Time_Graph">Latency vs Time Graph</h3>
		<p>This graph shows the latency in respect of the event time of the first event of the 2 related events. The x-axis of the graph corresponds to the start event time in seconds. The y-axis shows the latency in milli-seconds. Hovering the mouse over an plotted item pops up an information window that displays the start/end event time of the corresponding area in the horizontal direction, the start/end latecny time of the corresponding area in vertical direction as well as the number of latencies that fall into this square.</p>
		<p>
			<img border="0" src="images/LatencyGraphHover.png"/>  
		</p>
		<h3 id="Latency_Distribution">Latency Distribution</h3>
		<p>This graph shows the latency distribution. The number of latency values that fall in the corresponding latency range are displayed. The x-axis of the distribution graph shows the latency in milli-seconds. The y-axis corresponds to the number of events (latency occurances). Hovering the mouse over a histogram bar pops up an information window that displays the number of events as well as the number of events it represents.</p>
		<p>
			<img border="0" src="images/LatencyDistributionHover.png"/>
		</p>
		<h3 id="Mouse_Control_3">Mouse Control</h3>
		<p>The mouse control is only applicaple for the 
			<b>Latency Distribution</b> graph.
		</p>
		<ul>
			<li>Mouse Wheel
				<ul>
					<li>Forward - Zoom in (in y-axix only).</li>
					<li>Backward - Zoom out (in y-axis only).</li>
				</ul>
			</li>
		</ul>
		<p>After zooming in the zoom factor is displayed in brackets besides the title 
			<b>Latency Distribution</b>. Additionally, besides the y-axis a warning icon is drawn to indicate that the maximum height is not displayed. Hovering over this icon pops up an information window about warning icon. 
		</p>
		<p>
			<img border="0" src="images/LatencyDistributionZoom.png"/>
		</p>
		<h3 id="Tool_Bar_Menu">Tool Bar Menu</h3>
		<p>The latency view comes with serveral tool bar buttons and menu items for changing the bar width as well as for listing, adding and deleting of matching events.</p>
		<p>
			<img border="0" src="images/LatencyToolbar.png"/>
		</p>
		<ul>
			<li>
				<b>Increase bar width/height</b>: To increase the bar width of the 
				<b>Latency Distribution</b> and the square width and hight of the 
				<b>Latency vs Time</b> graph, select the button 
				<b>Increase bar width/height</b>. By default, the size is 2 pixels. The maximum size is 16.
			</li>
		</ul>
		<ul>
			<li>
				<b>Decrease bar width/height</b>: To decrease the bar width of the 
				<b>Latency Distribution</b> and the square width and hight of the 
				<b>Latency vs Time</b> graph, select the button 
				<b>Decrease bar width/height</b>. By default, the size is 2 pixels. The minimum size is 1.
			</li>
		</ul>
		<ul>
			<li>
				<b>List matching events</b>: To display the current list of event pairs to be matched, select the button 
				<b>List matching events</b>. A new dialog display will open with the list of matching events. To reset to the default list of matchin pairs, press button 
				<b>Reset to default pairs</b>.  
			</li>
		</ul>
		<p>
			<img border="0" src="images/LatencyListMatchingDialog.png"/>
		</p>
		<ul>
			<li>
				<b>Add matching events</b>: To add a new pair of events to be matched, select the button 
				<b>Add matching events</b>. A new display will open for selecting a new pair of events. First select the start event from the provided list on the left. The select an end event on the right side. After that, press 
				<b>Add</b>. This will add a new entry to the list in the lower part of the display. After closing the dialog box, the trace will be parsed again using the new list of event pairs.
			</li>
		</ul>
		<p>
			<img border="0" src="images/LatencyAddMatchingDialog.png"/>
		</p>
		<ul>
			<li>
				<b>Delete matching events</b>: To delete a pair of events to be matched, select the button 
				<b>Delete matching events</b>. A new display will open for selecting of pairs of events. First select the event pair to be deleted, then press button 
				<b>Delete</b>. After closing the dialog box, the trace will be parsed again using the new list of event pairs.
			</li>
		</ul>
		<p>
			<img border="0" src="images/LatencyDeleteMatchingDialog.png"/>
		</p>
		<p>
			<b>Note</b> that the list of event pairs are presisted in the workspace and will be available after restart of Eclipse.
		</p><hr/>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<td style="width: 20%" align="left">
					<a href="Getting-Started.html" title="Getting Started">
						<img alt="Previous" border="0" src="../../../images/prev.gif"/>
					</a>
				</td>
				<td style="width: 60%" align="center">
					<a href="User-Guide.html" title="LTTng Plug-in User Guide">
						<img alt="LTTng Plug-in User Guide" border="0" src="../../../images/home.gif"/>
					</a>
				</td>
				<td style="width: 20%" align="right">
					<a href="LTTng-Trace-Control.html" title="LTTng Trace Control">
						<img alt="Next" border="0" src="../../../images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top">Getting Started</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">LTTng Trace Control</td>
			</tr>
		</table>
	</body>
</html>
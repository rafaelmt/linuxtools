<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>LTTng Plug-in User Guide - LTTng Trace Control</title>
		<link type="text/css" rel="stylesheet" href="../../../book.css"/>
	</head>
	<body>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<th style="width: 100%" align="center" colspan="3">LTTng Trace Control</th>
			</tr>
			<tr>
				<td style="width: 20%" align="left">
					<a href="LTTng-Perspective.html" title="LTTng Perspective">
						<img alt="Previous" border="0" src="../../../images/prev.gif"/>
					</a>
				</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right">
					<a href="Limitations.html" title="Limitations">
						<img alt="Next" border="0" src="../../../images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top">LTTng Perspective</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">Limitations</td>
			</tr>
		</table><hr/>
		<h1 id="LTTng_Trace_Control">LTTng Trace Control</h1>
		<p>The functions to control the LTTng tracer (e.g. start, pause, resume), either locally or remotely, are available from the Remote Systems view (See 
			<a href="LTTng-Trace-Control.html#Remote_Systems_View">Remote Systems View</a>, an RSE view).
		</p>
		<p>
			<img border="0" src="images/LTTngControlRsePerspective.png"/>
		</p>
		<h2 id="Remote_Systems_View">Remote Systems View</h2>
		<p>The LTTng tracer is controlled by the UI through an LTTng agent running on the tracer system.</p>
		<h2 id="Create_a_Remote_Connection">Create a Remote Connection</h2>
		<p>A new connection to a remote system can be created using the new connection wizard of the Remote System Explorer. For this, a toolbar button exists on the top left corner of the Remote System view. Alternatively, this wizard can be started using File -&gt; New -&gt; Other ... -&gt; Remote System Explorer -&gt; Connection).</p>
		<p>
			<img border="0" src="images/LTTngNewConnectionWizard1.png"/>
		</p>
		<p>For LTTng control, select connection type LTTng and press Next to define the connection.</p>
		<p>
			<img border="0" src="images/LTTngNewConnectionWizard2.png"/>
		</p>
		<p>The 
			<b>Host name</b> holds the IP address or DNS name of the remote system. 
			The 
			<b>Connection name</b> is the name to be displayed in the Remote Systems view. 
			The 
			<b>Description</b> is optional. 
			Unless the user wants to use a specific 
			<b>Profile</b>, the default profile is sufficient. 
			The checkbox 
			<b>Verfiy host name</b> enable or disables the verification of the remote system. 
		</p>
		<p>By default, when pressing "Finish" the new connection contains the following sub systems:  </p>
		<ul>
			<li>
				<b>Files</b>: This subsystem allows the user to browse the file system on the remote system. Amongst others the user has the possibility to open, create files, download or upload files.
			</li>
		</ul>
		<ul>
			<li>
				<b>Processes</b>: This subsystem allows the user to browse and control processes on the remote system.
			</li>
		</ul>
		<ul>
			<li>
				<b>Shells</b>: This subsystem allows the user to open command shells to issue commands on the remote system.
			</li>
		</ul>
		<ul>
			<li>
				<b>Terminals</b>: This subsystem allows the user to open command terminals to issue commands on the remote system.
			</li>
		</ul>
		<ul>
			<li>
				<b>LTTng Tracing</b>: With this subsystem the user can control the LTTng tracer on the remote system. It supports the control of kernel and userspace traces. 
			</li>
		</ul>
		<p>The user has the possibility to configure or omit the subsystems 
			<b>Files</b>, 
			<b>Processes</b>, 
			<b>Shells</b> and 
			<b>Terminals</b> by pressing "Next" and deselecting the relevant subsystem. 
		</p>
		<p>
			<img border="0" src="images/LTTngNewConnectionWizard3.png"/>
		</p>
		<p>
			<img border="0" src="images/LTTngNewConnectionWizard4.png"/>
		</p>
		<p>
			<img border="0" src="images/LTTngNewConnectionWizard5.png"/>
		</p>
		<p>
			<img border="0" src="images/LTTngNewConnectionWizard6.png"/>
		</p>
		<p>After finishing the new connection the Remote System view will be updated:</p>
		<p>
			<img border="0" src="images/LTTngRemoteSystemsNewConnection.png"/>
		</p>
		<h3 id="General">General</h3>
		<p>All actions are on elements in the Remote Systems view are accessible through context sensitive menu. By selecting a tree element and pressing the right mouse button a context sensitive menu is shown. Some of the actions are also available through toolbar buttons and toolbar menu. </p>
		<h3 id="Connect_to_Remote_Host">Connect to Remote Host</h3>
		<p>The connection to the remote host can be established by selecting the connection in the tree, click the right mouse button and select Connect.</p>
		<p>
			<img border="0" src="images/LTTngConnectToRemoteSystem.png"/>
		</p>
		<p>A login dialog will be opened, where the user needs to specify the user name and password.</p>
		<p>
			<img border="0" src="images/LTTngLoginDialog.png"/>
		</p>
		<p>After logging in the LTTng Trace Control will retrieve LTTng Remote System information. First it will read the supported providers. The providers will be one or both of the following: "kernel" for kernel tracing and "ust" for user space tracing. After that the trace controls reads the currently available targets. For kernel tracing, there is only one target with ID "0". For user space tracing each target is the corresponding process ID of a user space application with user space tracing enabled. Without any traces created the Remote System view will look like this (after expanding the tree):</p>
		<p>
			<img border="0" src="images/LTTngRemoteSystemsWithLTTng.png"/>
		</p>
		<h3 id="Configure_Kernel_Markers">Configure Kernel Markers</h3>
		<p>The marker of a given target can be configured by selecting the kernel target "0", clicking the right mouse button and selecting the 
			<b>Configure Markers</b> menu item of the context sensitive menu.
		</p>
		<p>
			<img border="0" src="images/LTTngConfigureMarkersAction.png"/>
		</p>
		<p>A new dialog box will show for the configuration of the relevant markers. All markers are listed in a table. The first column contains a checkbox to enable or disable a marker. The second column shows the name of the marker and all other columns display marker details.</p>
		<p>
			<img border="0" src="images/LTTngConfigureMarkersDialog.png"/>
		</p>
		<h3 id="Create_a_New_Kernel_Trace">Create a New Kernel Trace</h3>
		<p>A new trace can be created by selecting the kernel target "0", clicking the right mouse button and selecting the 
			<b>New Trace</b> menu item of the context sensitive menu.
		</p>
		<p>
			<img border="0" src="images/LTTngCreateNewTraceAction.png"/>
		</p>
		<p>A new dialog box will show for the configuration of the relevant parameter. </p>
		<p>
			<img border="0" src="images/LTTngCreateNewTraceDialog.png"/>
		</p>
		<ul>
			<li>
				<b>Name</b>: holds the name of the trace. 
			</li>
		</ul>
		<ul>
			<li>
				<b>Transport type</b>: it is set by default to "relay" and cannot be changed.
			</li>
		</ul>
		<ul>
			<li>
				<b>Trace Location</b>:  
				<ul>
					<li>
						<b>Target</b>: means that the trace is stored on the remote system where the trace is collected. 
					</li>
					<li>
						<b>Host</b>: means that the trace is transfered to the local host where the eclipse application is running. 
					</li>
					<li>
						<b>Trace path</b>: holds the path where the trace shall be stored. The 
						<b>Browse</b> button is only active for 
						<b>Local</b> and can be used to open a dialog box to select the trace path directory.
					</li>
				</ul>
			</li>
		</ul>
		<ul>
			<li>
				<b>Tracing project</b>: defines the LTTng Tracing project where a streaming (host) trace will be added at trace start.
			</li>
			<li>
				<b>Number of lttd threads</b>: defines the number of threads to be used by the ltt daemon during tracing.
			</li>
			<li>
				<b>Append</b>: can be used to append the new trace to an existing trace.
			</li>
			<li>
				<b>Trace mode</b>: can be either 
				<b>Normal</b> or 
				<b>Flight Recorder</b>. In normal mode, the subbuffers are constantly written while the trace is started. In flight recorder mode, only the latest subbuffers are written when the trace is stopped. 
			</li>
		</ul>
		<p>If all inputs are valid the 
			<b>Finish</b> button will be active and can be used to create the trace. The LTTng trace control will setup the trace using the connection to the remote agent.
		</p>
		<p>After creating a new trace, the Remote Systems view will be updated. When selecting the newly created trace in the tree, the buttons to start, stop and configure the trace will be enabled.</p>
		<p>
			<img border="0" src="images/LTTngRemoteSystemConfiguredTrace.png"/>
		</p>
		<h3 id="Configure_a_Trace_and_Trace_Channels">Configure a Trace and Trace Channels</h3>
		<p>Some of the trace parameters can be changed if the trace has not been previously started. A trace can be configured by selecting the relevant kernel trace, clicking the right mouse button and selecting the "Configure Trace" menu item of the context sensitive menu. </p>
		<p>
			<img border="0" src="images/LTTngConfigureTraceAction.png"/>
		</p>
		<p>A new dialog box with a wizard page will show for the configuration of the relevant parameter. For explanation of the parameters see 
			<a href="LTTng-Trace-Control.html#Create_a_New_Kernel_Trace">Create_a_New_Kernel_Trace</a>
		</p>
		<p>
			<img border="0" src="images/LTTngConfigureTraceDialog.png"/>
		</p>
		<p>After entering valid parameters the 
			<b>Next</b> and 
			<b>Finish</b> buttons will be active. To finalize the configuration of the trace select the 
			<b>Finish</b> button. To configure channel parameters select the 
			<b>Next</b> button. A new wizard page will show for the configuration of channel parameters. For provider 
			<b>kernel</b> the following display will show:  
		</p>
		<p>
			<img border="0" src="images/LTTngConfigureChannelsKernelDialog.png"/>
		</p>
		<p>All channels can be configured at once by clicking the right mouse button in the table and selecting one of the menu items of the context sensitive menu.</p>
		<p>
			<img border="0" src="images/LTTngConfigureChannelsActions.png"/>
		</p>
		<p>For provider 
			<b>ust</b> only the channel parameter 
			<b>Channel Timer</b> can be configured and the following display will show after selecting the 
			<b>Next</b> button of the 
			<b>Trace configuration</b> page.
		</p>
		<p>
			<img border="0" src="images/LTTngConfigureChannelsUstDialog.png"/>
		</p>
		<p>Please note that channel parameters cannot be retrieved from the LTTng agent. Therefore they cannot be displayed in the table unless they have been previously configured through Eclipse. However, this information will be lost after closing Eclipse. A question mark will indicate that the relevant value is not known and it will be ignored after selecting the 
			<b>Finish</b> button.
		</p>
		<ul>
			<li>
				<b>Name</b> column: holds the name of the channel. 
			</li>
			<li>
				<b>Enabled</b> column: a checkbox indicates whether the channel is enabled or not.
			</li>
			<li>
				<b>Buffer Override</b> column: a checkbox indicates whether channel buffer overwrite is enabled or not. 
			</li>
			<li>
				<b>Number of Sub Buffers</b> column: holds the number of sub-buffers of the channel. 
			</li>
			<li>
				<b>Sub Buffer size</b> column: holds the size of the sub-buffer of the channel (in bytes). 
			</li>
			<li>
				<b>Channel Timer</b> column: holds the channel timer value (in milliseconds) for periodically flushing all collected data for the channel, whether the sub-buffers are full or not. The provider 
				<b>ust</b> only supports a single timer for all channels, traces and targets it is monitoring.
			</li>
		</ul>
		<p>Please note that the 
			<b>Configure Trace</b> item of the context sensitive menu of a trace can be used to display the trace and channel parameters at any time. However, they can only be changed if the trace has not been previously started.
		</p>
		<h3 id="Start_a_Trace">Start a Trace</h3>
		<p>A configured or paused trace can be started by selecting the kernel trace, clicking the right mouse button and selecting the 
			<b>Start</b> menu item of the context sensitive menu. Alternatively, the start button in the toolbar can be used to start the trace. If the trace location is host (streaming trace), it will be automatically added to the tracing project that was selected at trace creation.
		</p>
		<p>
			<img border="0" src="images/LTTngStartTraceAction.png"/>
		</p>
		<h3 id="Pause_a_Trace">Pause a Trace</h3>
		<p>A started trace can be paused by selecting the relevant trace, clicking the right mouse button and selecting the 
			<b>Pause</b> menu item of the context sensitive menu. Alternatively, the pause button in the toolbar can be used to pause the trace.
		</p>
		<p>
			<img border="0" src="images/LTTngPauseTraceAction.png"/>
		</p>
		<h3 id="Stop_a_Trace">Stop a Trace</h3>
		<p>A non-started trace can be stopped by selecting the relevant trace, clicking the right mouse button and selecting the 
			<b>Stop</b> menu item of the context sensitive menu. Alternatively, the stop button in the toolbar can be used to stop the trace. This will destroy the trace on the remote system, all allocated memory will be deallocated and all relevant trace files will be finalized. This step is need to be able to import a trace into the LTTng Perspective.
		</p>
		<p>
			<img border="0" src="images/LTTngStopTraceAction.png"/>
		</p>
		<h3 id="Import_a_Trace_in_the_LTTng_Perspective">Import a Trace in the LTTng Perspective</h3>
		<p>A streaming or stopped trace can be imported to the LTTng Perspective for viewing by selecting the relevant trace, clicking the right mouse button and selecting the 
			<b>Import To Project</b> menu item of the context sensitive menu. A new dialog box will show to select the LTTng Project. 
		</p>
		<p>
			<img border="0" src="images/LTTngImportTraceAction.png"/>
		</p>
		<p>For local trace path (streamed to the host):</p>
		<p>
			<img border="0" src="images/LTTngImportLocalTrace.png"/>
		</p>
		<p>For remote trace path (stored on the target):</p>
		<p>
			<img border="0" src="images/LTTngImportRemoteTrace.png"/>
		</p>
		<ul>
			<li>
				<b>Import to project</b>: All existing LTTng tracing projects in the workspace are displayed in a table and the user has to select the destination. If no projects are available the user has to create a new project first (see 
				<a href="LTTng-Perspective.html#Project_View">Project_View</a>)
			</li>
			<li>
				<b>Trace name</b>: specifies the name that the imported trace shall have in the LTTng project. 
			</li>
			<li>
				<b>Link only</b>: For a trace streamed to the host the user has the option to create a symbolic link to the trace path or, if the trace is stopped, to copy the trace into the LTTng project. 
			</li>
		</ul>
		<p>After pressing button 
			<b>Import</b> the trace will be stored in the selected project. For a trace stored on the target, it will be downloaded from the remote system.
		</p>
		<h3 id="Delete_a_Trace">Delete a Trace</h3>
		<p>A stopped trace can be deleted by selecting the relevant trace, clicking the right mouse button and selecting the 
			<b>Delete</b> menu item of the context sensitive menu. A new dialog box will show for the user to confirm that the selected trace should be deleted. 
		</p>
		<p>
			<img border="0" src="images/LTTngDeleteTraceAction.png"/>
		</p>
		<p>
			<img border="0" src="images/LTTngDeleteTraceConfirm.png"/>
		</p>
		<h2 id="Property_View">Property View</h2>
		<p>The Property view displays the properties of the selected resource in the tree. For traces it displays all configuration parameters.</p>
		<p>
			<img border="0" src="images/LTTngTraceProperties.png"/>
		</p><hr/>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<td style="width: 20%" align="left">
					<a href="LTTng-Perspective.html" title="LTTng Perspective">
						<img alt="Previous" border="0" src="../../../images/prev.gif"/>
					</a>
				</td>
				<td style="width: 60%" align="center">
					<a href="User-Guide.html" title="LTTng Plug-in User Guide">
						<img alt="LTTng Plug-in User Guide" border="0" src="../../../images/home.gif"/>
					</a>
				</td>
				<td style="width: 20%" align="right">
					<a href="Limitations.html" title="Limitations">
						<img alt="Next" border="0" src="../../../images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top">LTTng Perspective</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">Limitations</td>
			</tr>
		</table>
	</body>
</html>